<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>核心概念 | 有爱心安 - 花期</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="杂乱无章的技术博客">
    
    <link rel="preload" href="/assets/css/0.styles.35bcedcf.css" as="style"><link rel="preload" href="/assets/js/app.74591230.js" as="script"><link rel="preload" href="/assets/js/2.662f3f24.js" as="script"><link rel="preload" href="/assets/js/63.a464e7db.js" as="script"><link rel="prefetch" href="/assets/js/10.6f0d4e47.js"><link rel="prefetch" href="/assets/js/11.50c5bc81.js"><link rel="prefetch" href="/assets/js/12.e1161c0e.js"><link rel="prefetch" href="/assets/js/13.4b104cfc.js"><link rel="prefetch" href="/assets/js/14.30955a9c.js"><link rel="prefetch" href="/assets/js/15.c8f31d7f.js"><link rel="prefetch" href="/assets/js/16.c21ef4c6.js"><link rel="prefetch" href="/assets/js/17.5d7e77b9.js"><link rel="prefetch" href="/assets/js/18.9aba9ca1.js"><link rel="prefetch" href="/assets/js/19.b73a86fe.js"><link rel="prefetch" href="/assets/js/20.1f415092.js"><link rel="prefetch" href="/assets/js/21.dda3b088.js"><link rel="prefetch" href="/assets/js/22.1138bf38.js"><link rel="prefetch" href="/assets/js/23.bd7bb39d.js"><link rel="prefetch" href="/assets/js/24.dfc23fa7.js"><link rel="prefetch" href="/assets/js/25.30fab2be.js"><link rel="prefetch" href="/assets/js/26.cd1ee713.js"><link rel="prefetch" href="/assets/js/27.35a690e0.js"><link rel="prefetch" href="/assets/js/28.01e51b53.js"><link rel="prefetch" href="/assets/js/29.6b6122ac.js"><link rel="prefetch" href="/assets/js/3.b328b72f.js"><link rel="prefetch" href="/assets/js/30.31098dfe.js"><link rel="prefetch" href="/assets/js/31.d45b17aa.js"><link rel="prefetch" href="/assets/js/32.f30bf7ba.js"><link rel="prefetch" href="/assets/js/33.5f7ad133.js"><link rel="prefetch" href="/assets/js/34.b262d326.js"><link rel="prefetch" href="/assets/js/35.21e828ee.js"><link rel="prefetch" href="/assets/js/36.7d43e272.js"><link rel="prefetch" href="/assets/js/37.bd117701.js"><link rel="prefetch" href="/assets/js/38.701dbff2.js"><link rel="prefetch" href="/assets/js/39.111b7fad.js"><link rel="prefetch" href="/assets/js/4.0a5bf6cc.js"><link rel="prefetch" href="/assets/js/40.7d4363fe.js"><link rel="prefetch" href="/assets/js/41.343713ce.js"><link rel="prefetch" href="/assets/js/42.4fb6dd59.js"><link rel="prefetch" href="/assets/js/43.5642e367.js"><link rel="prefetch" href="/assets/js/44.85a99ec0.js"><link rel="prefetch" href="/assets/js/45.a624ea10.js"><link rel="prefetch" href="/assets/js/46.8481ef09.js"><link rel="prefetch" href="/assets/js/47.55140342.js"><link rel="prefetch" href="/assets/js/48.993aa1d3.js"><link rel="prefetch" href="/assets/js/49.995dc158.js"><link rel="prefetch" href="/assets/js/5.620815fe.js"><link rel="prefetch" href="/assets/js/50.71beee3d.js"><link rel="prefetch" href="/assets/js/51.f765ac42.js"><link rel="prefetch" href="/assets/js/52.f0194437.js"><link rel="prefetch" href="/assets/js/53.beed879e.js"><link rel="prefetch" href="/assets/js/54.2bfa6960.js"><link rel="prefetch" href="/assets/js/55.0d452fd0.js"><link rel="prefetch" href="/assets/js/56.afc23b54.js"><link rel="prefetch" href="/assets/js/57.25a0de8c.js"><link rel="prefetch" href="/assets/js/58.6a2e22c3.js"><link rel="prefetch" href="/assets/js/59.234ca4c7.js"><link rel="prefetch" href="/assets/js/6.e4c8cbb1.js"><link rel="prefetch" href="/assets/js/60.9d237f42.js"><link rel="prefetch" href="/assets/js/61.b9ad3844.js"><link rel="prefetch" href="/assets/js/62.62040256.js"><link rel="prefetch" href="/assets/js/64.46149f1b.js"><link rel="prefetch" href="/assets/js/65.ec3235b9.js"><link rel="prefetch" href="/assets/js/66.782f2680.js"><link rel="prefetch" href="/assets/js/67.575cb1e8.js"><link rel="prefetch" href="/assets/js/68.febe0d4b.js"><link rel="prefetch" href="/assets/js/69.6b8abb4b.js"><link rel="prefetch" href="/assets/js/7.23aaa1b7.js"><link rel="prefetch" href="/assets/js/70.ed2fbd28.js"><link rel="prefetch" href="/assets/js/71.d4918a67.js"><link rel="prefetch" href="/assets/js/72.9d24da4e.js"><link rel="prefetch" href="/assets/js/73.bd2c708e.js"><link rel="prefetch" href="/assets/js/74.49b9d79c.js"><link rel="prefetch" href="/assets/js/75.c249052a.js"><link rel="prefetch" href="/assets/js/76.c9ab5219.js"><link rel="prefetch" href="/assets/js/77.14430975.js"><link rel="prefetch" href="/assets/js/78.90edfddf.js"><link rel="prefetch" href="/assets/js/79.7d2360a7.js"><link rel="prefetch" href="/assets/js/8.f80c6e55.js"><link rel="prefetch" href="/assets/js/80.03b4beee.js"><link rel="prefetch" href="/assets/js/9.0c75976d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.35bcedcf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">有爱心安 - 花期</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>前端</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>编码基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>兼容处理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>面试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>即时通讯</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>关键字</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>前端语言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>移动端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>项目优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>项目构建</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fronted/projectBuild/introduction.html" class="sidebar-link">简介</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading open"><span>webpack</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fronted/projectBuild/webpack/background.html" class="sidebar-link">背景</a></li><li><a href="/fronted/projectBuild/webpack/concept.html" aria-current="page" class="active sidebar-link">概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#入口-entry" class="sidebar-link">入口 - Entry</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#输出-output" class="sidebar-link">输出 - Output</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#loader" class="sidebar-link">Loader</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#插件-plugin" class="sidebar-link">插件 - Plugin</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#模式-mode" class="sidebar-link">模式 - Mode</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#浏览器兼容-browser-compatibility" class="sidebar-link">浏览器兼容 - Browser Compatibility</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#环境-environment" class="sidebar-link">环境 - Environment</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#配置-configuration" class="sidebar-link">配置 - Configuration</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#模块-module" class="sidebar-link">模块 - Module</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#模块解析-module-resolution" class="sidebar-link">模块解析 - Module Resolution</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#模块联邦-module-federation" class="sidebar-link">模块联邦 - Module Federation</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#依赖图-dependency-graph" class="sidebar-link">依赖图 - Dependency graph</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#target" class="sidebar-link">target</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#manifest" class="sidebar-link">manifest</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#模块热替换-hot-module-replacement" class="sidebar-link">模块热替换 - Hot module replacement</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#为什么选择webpack" class="sidebar-link">为什么选择webpack</a></li><li class="sidebar-sub-header"><a href="/fronted/projectBuild/webpack/concept.html#内部原理" class="sidebar-link">内部原理</a></li></ul></li><li><a href="/fronted/projectBuild/webpack/configuration.html" class="sidebar-link">配置</a></li><li><a href="/fronted/projectBuild/webpack/api.html" class="sidebar-link">API</a></li><li><a href="/fronted/projectBuild/webpack/error.html" class="sidebar-link">错误</a></li><li><a href="/fronted/projectBuild/webpack/vueProject.html" class="sidebar-link">vue项目</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>postcss</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>rollup</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>软件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>测试相关</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工作总结</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>系统</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>语言</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="核心概念"><a href="#核心概念" class="header-anchor">#</a> 核心概念</h1> <h2 id="入口-entry"><a href="#入口-entry" class="header-anchor">#</a> <a href="https://webpack.docschina.org/concepts/entry-points/" target="_blank" rel="noopener noreferrer">入口 - Entry<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="概览"><a href="#概览" class="header-anchor">#</a> 概览</h3> <ul><li>默认值是 <code>./src/index.js</code></li> <li>可以指定一个（或多个）不同的入口起点</li></ul> <h3 id="单个入口-简写-语法"><a href="#单个入口-简写-语法" class="header-anchor">#</a> 单个入口（简写）语法</h3> <h3 id="对象语法"><a href="#对象语法" class="header-anchor">#</a> 对象语法</h3> <h3 id="常见场景"><a href="#常见场景" class="header-anchor">#</a> 常见场景</h3> <ul><li>分离 app(应用程序) 和 vendor(第三方库) 入口</li> <li>多页面应用程序</li></ul> <hr> <h2 id="输出-output"><a href="#输出-output" class="header-anchor">#</a> 输出 - Output</h2> <h3 id="概览-2"><a href="#概览-2" class="header-anchor">#</a> 概览</h3> <ul><li>输出文件的默认值是 <code>./dist/main.js</code></li> <li>其他生成文件默认放置在 <code>./dist</code> 文件夹中 （可通过path来进行配置）</li></ul> <h3 id="多个入口起点"><a href="#多个入口起点" class="header-anchor">#</a> 多个入口起点</h3> <h3 id="对资源使用cdn和hash"><a href="#对资源使用cdn和hash" class="header-anchor">#</a> 对资源使用CDN和hash</h3> <hr> <h2 id="loader"><a href="#loader" class="header-anchor">#</a> Loader</h2> <h3 id="概览-3"><a href="#概览-3" class="header-anchor">#</a> 概览</h3> <ul><li><p><strong>loader</strong> 让 webpack 能够去处理其他类型的文件，并将它们转换为有效 <a href="https://webpack.docschina.org/concepts/modules" target="_blank" rel="noopener noreferrer">模块<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，以供应用程序使用，以及被添加到依赖图中</p> <blockquote><p>webpack 只能理解 JavaScript 和 JSON 文件，这是 webpack 开箱可用的自带能力</p></blockquote></li> <li><p><code>rules</code> 属性，里面包含两个必须属性：<code>test</code> 和 <code>use</code></p> <blockquote><p><strong>Tips:</strong></p> <p><code>test</code> 属性，识别出哪些文件会被转换。</p> <p><code>use</code> 属性，定义出在进行转换时，应该使用哪个 loader。</p> <p><strong>Warning:</strong></p> <p>配置中定义 rules 时，要定义在 <code>module.rules</code> 而不是 <code>rules</code> 中</p> <p>使用正则表达式匹配文件时，你不要为它添加引号(<code>/\.txt$/</code> 与 <code>'/\.txt$/'</code> 或 <code>&quot;/\.txt$/&quot;</code> 不一样。前者指示 webpack 匹配任何以 .txt 结尾的文件，后者指示 webpack 匹配具有绝对路径 '.txt' 的单个文件)</p></blockquote></li></ul> <h3 id="使用方式"><a href="#使用方式" class="header-anchor">#</a> 使用方式</h3> <ul><li>配置方式（推荐）</li> <li>内联模式</li></ul> <h3 id="loader特性"><a href="#loader特性" class="header-anchor">#</a> Loader特性</h3> <ul><li>支持链式调用</li> <li>支持同步或者异步</li> <li>是运行在Node.js中</li> <li>通过options对象配置（任然支持query来配置，但是已经废弃）</li> <li>除了常见的通过 <code>package.json</code> 的 <code>main</code> 来将一个 npm 模块导出为 loader，还可以在 module.rules 中使用 <code>loader</code> 字段直接引用一个模块。</li> <li>插件(plugin)可以为 loader 带来更多特性。</li> <li>loader 能够产生额外的任意文件。</li></ul> <h3 id="解析loader"><a href="#解析loader" class="header-anchor">#</a> 解析Loader</h3> <blockquote><p>loader 遵循标准 <a href="https://webpack.docschina.org/concepts/module-resolution/" target="_blank" rel="noopener noreferrer">模块解析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 规则。多数情况下，loader 将从 <a href="https://webpack.docschina.org/concepts/module-resolution/#module-paths" target="_blank" rel="noopener noreferrer">模块路径<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 加载（通常是从 <code>npm install</code>, <code>node_modules</code> 进行加载）。</p> <p>我们预期 loader 模块导出为一个函数，并且编写为 Node.js 兼容的 JavaScript。通常使用 npm 进行管理 loader，但是也可以将应用程序中的文件作为自定义 loader。按照约定，loader 通常被命名为 <code>xxx-loader</code>（例如 <code>json-loader</code>）。更多详细信息，请查看 <a href="https://webpack.docschina.org/contribute/writing-a-loader/" target="_blank" rel="noopener noreferrer">编写一个 loader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></blockquote> <h2 id="插件-plugin"><a href="#插件-plugin" class="header-anchor">#</a> 插件 - Plugin</h2> <p>打包优化，资源管理，注入环境变量等等 - （<strong>loader 用于转换某些类型的模块，而插件则可以用于执行范围更广的任务</strong>）</p> <h3 id="剖析"><a href="#剖析" class="header-anchor">#</a> 剖析</h3> <blockquote><p>webpack <strong>插件</strong>是一个具有 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" target="_blank" rel="noopener noreferrer"><code>apply</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 方法的 JavaScript 对象。<code>apply</code> 方法会被 webpack compiler 调用，并且在 <strong>整个</strong> 编译生命周期都可以访问 compiler 对象。</p> <p><strong>ConsoleLogOnBuildWebpackPlugin.js</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> pluginName <span class="token operator">=</span> <span class="token string">'ConsoleLogOnBuildWebpackPlugin'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ConsoleLogOnBuildWebpackPlugin</span> <span class="token punctuation">{</span>
 <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>run<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>pluginName<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'webpack 构建正在启动！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> ConsoleLogOnBuildWebpackPlugin<span class="token punctuation">;</span>
</code></pre></div><p>compiler hook 的 tap 方法的第一个参数，应该是驼峰式命名的插件名称。建议为此使用一个常量，以便它可以在所有 hook 中重复使用。</p></blockquote> <h3 id="用法"><a href="#用法" class="header-anchor">#</a> 用法</h3> <p>由于<strong>插件</strong>可以携带参数/选项，你必须在 webpack 配置中，向 <code>plugins</code> 属性传入一个 <code>new</code> 实例。</p> <h3 id="配置方式"><a href="#配置方式" class="header-anchor">#</a> 配置方式</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 通过 npm 安装</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 访问内置的插件</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./path/to/my/entry/file.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'my-first-webpack.bundle.js'</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(js|jsx)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProgressPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> template<span class="token operator">:</span> <span class="token string">'./src/index.html'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="api方式"><a href="#api方式" class="header-anchor">#</a> Api方式</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 访问 webpack 运行时(runtime)</span>
<span class="token keyword">const</span> configuration <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.config.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> compiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span>configuration<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProgressPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>

compiler<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="模式-mode"><a href="#模式-mode" class="header-anchor">#</a> 模式 - Mode</h2> <ul><li><p>默认值为 <code>production</code></p> <blockquote><p>取值有 <code>development</code>, <code>production</code> 或 <code>none</code></p></blockquote></li></ul> <h2 id="浏览器兼容-browser-compatibility"><a href="#浏览器兼容-browser-compatibility" class="header-anchor">#</a> 浏览器兼容 - Browser Compatibility</h2> <ul><li><p>Webpack 支持所有符合 <a href="https://kangax.github.io/compat-table/es5/" target="_blank" rel="noopener noreferrer">ES5 标准<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的浏览器（不支持 IE8 及以下版本）</p></li> <li><p>webpack 的 <code>import()</code> 和 <code>require.ensure()</code> 需要 <code>Promise</code></p> <blockquote><p>想要支持旧版本浏览器，在使用这些表达式之前，还需要 <a href="https://webpack.docschina.org/guides/shimming/" target="_blank" rel="noopener noreferrer">提前加载 polyfill<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></li></ul> <h2 id="环境-environment"><a href="#环境-environment" class="header-anchor">#</a> 环境 - Environment</h2> <ul><li>Webpack 5 运行于 Node.js v10.13.0+ 的版本</li></ul> <hr> <h1 id="高级概念"><a href="#高级概念" class="header-anchor">#</a> 高级概念</h1> <h2 id="配置-configuration"><a href="#配置-configuration" class="header-anchor">#</a> 配置 - Configuration</h2> <h3 id="基本配置"><a href="#基本配置" class="header-anchor">#</a> 基本配置</h3> <h4 id="建议"><a href="#建议" class="header-anchor">#</a> 建议</h4> <ul><li>通过 <code>require(...)</code> 引入其他文件</li> <li>通过 <code>require(...)</code> 使用 npm 下载的工具函数</li> <li>使用 JavaScript 控制流表达式，例如 <code>?:</code> 操作符</li> <li>对 value 使用常量或变量赋值</li> <li>编写并执行函数，生成部分配置</li></ul> <h4 id="避免"><a href="#避免" class="header-anchor">#</a> 避免</h4> <ul><li>当使用 webpack CLI 工具时，访问 CLI 参数（应编写自己的 CLI 工具替代，或者<a href="https://webpack.docschina.org/api/cli/#env" target="_blank" rel="noopener noreferrer">使用 <code>--env</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）</li> <li>导出不确定的结果（两次调用 webpack 应产生相同的输出文件）</li> <li>编写超长的配置（应将配置文件拆分成多个</li></ul> <h3 id="多个target"><a href="#多个target" class="header-anchor">#</a> <a href="https://webpack.docschina.org/configuration/configuration-types/#exporting-multiple-configurations" target="_blank" rel="noopener noreferrer">多个target<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <h3 id="其它语言进行配置"><a href="#其它语言进行配置" class="header-anchor">#</a> <a href="https://webpack.docschina.org/configuration/configuration-languages/" target="_blank" rel="noopener noreferrer">其它语言进行配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <ul><li>Typescript</li> <li>CoffeScript</li> <li>Babel and jsx</li></ul> <h2 id="模块-module"><a href="#模块-module" class="header-anchor">#</a> 模块 - Module</h2> <p>模块, 一切皆模块， 一个模块对应一个文件。</p> <h3 id="何为-webpack-模块"><a href="#何为-webpack-模块" class="header-anchor">#</a> 何为 webpack 模块</h3> <p>与 <a href="https://nodejs.org/api/modules.html" target="_blank" rel="noopener noreferrer">Node.js 模块<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>相比，webpack <em>模块</em> 能以各种方式表达它们的依赖关系。下面是一些示例：</p> <ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" target="_blank" rel="noopener noreferrer">ES2015 <code>import</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 语句</li> <li><a href="http://www.commonjs.org/specs/modules/1.0/" target="_blank" rel="noopener noreferrer">CommonJS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <code>require()</code> 语句</li> <li><a href="https://github.com/amdjs/amdjs-api/blob/master/AMD.md" target="_blank" rel="noopener noreferrer">AMD<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <code>define</code> 和 <code>require</code> 语句</li> <li>css/sass/less 文件中的 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@import" target="_blank" rel="noopener noreferrer"><code>@import</code> 语句<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li>stylesheet <code>url(...)</code> 或者 HTML <code>&lt;img src=...&gt;</code> 文件中的图片链接。</li></ul> <h3 id="支持的模块类型"><a href="#支持的模块类型" class="header-anchor">#</a> 支持的模块类型</h3> <p>Webpack 天生支持如下模块类型：</p> <ul><li><a href="https://webpack.docschina.org/guides/ecma-script-modules" target="_blank" rel="noopener noreferrer">ECMAScript 模块<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>CommonJS 模块</li> <li>AMD 模块</li> <li><a href="https://webpack.docschina.org/guides/asset-modules" target="_blank" rel="noopener noreferrer">Assets<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>WebAssembly 模块</li></ul> <blockquote><p><a href="https://auth0.com/blog/javascript-module-systems-showdown/" target="_blank" rel="noopener noreferrer">JavaScript Module Systems Showdown<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="模块解析-module-resolution"><a href="#模块解析-module-resolution" class="header-anchor">#</a> 模块解析 - Module Resolution</h2> <p>resolver 是一个帮助寻找模块绝对路径的库。 一个模块可以作为另一个模块的依赖模块，然后被后者引用，如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">'path/to/module'</span><span class="token punctuation">;</span>
<span class="token comment">// 或者</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path/to/module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>所依赖的模块可以是来自应用程序的代码或第三方库。 resolver 帮助 webpack 从每个 <code>require</code>/<code>import</code> 语句中，找到需要引入到 bundle 中的模块代码。 当打包模块时，webpack 使用 <a href="https://github.com/webpack/enhanced-resolve" target="_blank" rel="noopener noreferrer">enhanced-resolve<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 来解析文件路径。</p> <h3 id="解析规则-通过enhanced-resolve"><a href="#解析规则-通过enhanced-resolve" class="header-anchor">#</a> 解析规则（通过enhanced-resolve）</h3> <h4 id="绝对路径"><a href="#绝对路径" class="header-anchor">#</a> 绝对路径</h4> <h4 id="相对路径"><a href="#相对路径" class="header-anchor">#</a> 相对路径</h4> <h4 id="模块路径"><a href="#模块路径" class="header-anchor">#</a> 模块路径</h4> <h3 id="解析loader-2"><a href="#解析loader-2" class="header-anchor">#</a> 解析loader</h3> <p>loader 的解析规则也遵循特定的规范。但是 <a href="https://webpack.docschina.org/configuration/resolve/#resolveloader" target="_blank" rel="noopener noreferrer"><code>resolveLoader</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 配置项可以为 loader 设置独立的解析规则。</p> <h3 id="缓存"><a href="#缓存" class="header-anchor">#</a> 缓存</h3> <p>每次文件系统访问文件都会被缓存，以便于更快触发对同一文件的多个并行或串行请求。在 <a href="https://webpack.docschina.org/configuration/watch/#watch" target="_blank" rel="noopener noreferrer">watch 模式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 下，只有修改过的文件会被从缓存中移出。如果关闭 watch 模式，则会在每次编译前清理缓存。</p> <h2 id="模块联邦-module-federation"><a href="#模块联邦-module-federation" class="header-anchor">#</a> 模块联邦 - Module Federation</h2> <h3 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h3> <p>多个独立的构建可以组成一个应用程序，这些独立的构建之间不应该存在依赖关系，因此可以单独开发和部署它们。</p> <h3 id="底层概念"><a href="#底层概念" class="header-anchor">#</a> 底层概念</h3> <h3 id="高级概念-2"><a href="#高级概念-2" class="header-anchor">#</a> 高级概念</h3> <h3 id="构建块"><a href="#构建块" class="header-anchor">#</a> 构建块</h3> <h3 id="概念目标"><a href="#概念目标" class="header-anchor">#</a> 概念目标</h3> <h3 id="用例"><a href="#用例" class="header-anchor">#</a> 用例</h3> <h3 id="动态远程容器"><a href="#动态远程容器" class="header-anchor">#</a> 动态远程容器</h3> <h3 id="基于promise得动态remote"><a href="#基于promise得动态remote" class="header-anchor">#</a> 基于promise得动态remote</h3> <h3 id="动态publicpath"><a href="#动态publicpath" class="header-anchor">#</a> 动态publicPath</h3> <h3 id="故障排除"><a href="#故障排除" class="header-anchor">#</a> 故障排除</h3> <h2 id="依赖图-dependency-graph"><a href="#依赖图-dependency-graph" class="header-anchor">#</a> 依赖图 - Dependency graph</h2> <p>每当一个文件依赖另一个文件时，webpack 都会将文件视为直接存在 <em>依赖关系</em>。这使得 webpack 可以获取非代码资源，如 images 或 web 字体等。并会把它们作为 <em>依赖</em> 提供给应用程序。</p> <p>当 webpack 处理应用程序时，它会根据命令行参数中或配置文件中定义的模块列表开始处理。 从 <a href="https://webpack.docschina.org/concepts/entry-points/" target="_blank" rel="noopener noreferrer"><em>入口</em><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 开始，webpack 会递归的构建一个 <em>依赖关系图</em>，这个依赖图包含着应用程序中所需的每个模块，然后将所有模块打包为少量的 <em>bundle</em> —— 通常只有一个 —— 可由浏览器加载。</p> <blockquote><p>对于 <em>HTTP/1.1</em> 的应用程序来说，由 webpack 构建的 bundle 非常强大。当浏览器发起请求时，它能最大程度的减少应用的等待时间。而对于 <em>HTTP/2</em> 来说，你还可以使用<a href="https://webpack.docschina.org/guides/code-splitting/" target="_blank" rel="noopener noreferrer">代码分割<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>进行进一步优化。</p></blockquote> <h2 id="target"><a href="#target" class="header-anchor">#</a> target</h2> <h3 id="用法-2"><a href="#用法-2" class="header-anchor">#</a> 用法</h3> <p><strong><a href="https://webpack.docschina.org/configuration/target/" target="_blank" rel="noopener noreferrer">target 可用值<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</strong></p> <h3 id="多taget"><a href="#多taget" class="header-anchor">#</a> 多taget</h3> <h2 id="manifest"><a href="#manifest" class="header-anchor">#</a> manifest</h2> <p>webpack使用场景有三种代码类型：</p> <ol><li>你或你的团队编写的源码。</li> <li>你的源码会依赖的任何第三方的 library 或 &quot;vendor&quot; 代码。</li> <li>webpack 的 runtime 和 <strong>manifest</strong>，管理所有模块的交互。</li></ol> <h3 id="runtime"><a href="#runtime" class="header-anchor">#</a> runtime</h3> <h3 id="manifest-2"><a href="#manifest-2" class="header-anchor">#</a> manifest</h3> <h3 id="问题"><a href="#问题" class="header-anchor">#</a> 问题</h3> <ul><li><p>即使某些内容明显没有修改，某些 hash 还是会改变 （因为注入的 runtime 和 manifest 在每次构建后都会发生变化）</p> <blockquote><ul><li><a href="https://survivejs.com/webpack/optimizing/separating-manifest/" target="_blank" rel="noopener noreferrer">分离 manifest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://medium.com/webpack/predictable-long-term-caching-with-webpack-d3eee1d3fa31" target="_blank" rel="noopener noreferrer">使用 webpack 提供可预测的长效缓存<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://webpack.docschina.org/guides/caching/" target="_blank" rel="noopener noreferrer">缓存<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></blockquote></li></ul> <h2 id="模块热替换-hot-module-replacement"><a href="#模块热替换-hot-module-replacement" class="header-anchor">#</a> 模块热替换 - Hot module replacement</h2> <p>通过以下几种方式，来显著加快开发速度：</p> <ul><li>保留在完全重新加载页面期间丢失的应用程序状态。</li> <li>只更新变更内容，以节省宝贵的开发时间。</li> <li>在源代码中 CSS/JS 产生修改时，会立刻在浏览器中进行更新，这几乎相当于在浏览器 devtools 直接更改样式。</li></ul> <h3 id="运行原理"><a href="#运行原理" class="header-anchor">#</a> 运行原理</h3> <h4 id="应用程序"><a href="#应用程序" class="header-anchor">#</a> 应用程序</h4> <ol><li>应用程序要求 HMR runtime 检查更新。</li> <li>HMR runtime 异步地下载更新，然后通知应用程序。</li> <li>应用程序要求 HMR runtime 应用更新。</li> <li>HMR runtime 同步地应用更新。</li></ol> <h4 id="complier"><a href="#complier" class="header-anchor">#</a> complier</h4> <p>除了普通资源，compiler 需要发出 &quot;update&quot;，将之前的版本更新到新的版本。&quot;update&quot; 由两部分组成：</p> <ol><li>更新后的 <a href="https://webpack.docschina.org/concepts/manifest" target="_blank" rel="noopener noreferrer">manifest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (JSON)</li> <li>一个或多个 updated chunk (JavaScript)</li></ol> <h4 id="模块"><a href="#模块" class="header-anchor">#</a> 模块</h4> <ul><li>HMR 是可选功能，只会影响包含 HMR 代码的模块</li> <li>在一个模块中实现了 HMR 接口,更新就会冒泡(bubble up),整组依赖模块都会被重新加载</li></ul> <blockquote><p>HMR 是可选功能，只会影响包含 HMR 代码的模块。举个例子，通过 <a href="https://github.com/webpack-contrib/style-loader" target="_blank" rel="noopener noreferrer"><code>style-loader</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 为 style 追加补丁。为了运行追加补丁，<code>style-loader</code> 实现了 HMR 接口；当它通过 HMR 接收到更新，它会使用新的样式替换旧的样式。</p> <p>类似的，当在一个模块中实现了 HMR 接口，你可以描述出当模块被更新后发生了什么。然而在多数情况下，不需要在每个模块中强行写入 HMR 代码。如果一个模块没有 HMR 处理函数，更新就会冒泡(bubble up)。这意味着某个单独处理函数能够更新整个模块树。如果在模块树的一个单独模块被更新，那么整组依赖模块都会被重新加载。</p></blockquote> <h4 id="runtime-2"><a href="#runtime-2" class="header-anchor">#</a> runtime</h4> <p>对于模块系统运行时(module system runtime)，会发出额外代码，来跟踪模块 <code>parents</code> 和 <code>children</code> 关系。在管理方面，runtime 支持两个方法 <code>check</code> 和 <code>apply</code>。</p> <h2 id="为什么选择webpack"><a href="#为什么选择webpack" class="header-anchor">#</a> 为什么选择webpack</h2> <h2 id="内部原理"><a href="#内部原理" class="header-anchor">#</a> 内部原理</h2> <h3 id="主要部分"><a href="#主要部分" class="header-anchor">#</a> 主要部分</h3> <ul><li>项目中使用的每个文件都是一个 <a href="https://webpack.docschina.org/concepts/modules/" target="_blank" rel="noopener noreferrer">模块<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>通过互相引用，这些模块会形成一个图(<code>ModuleGraph</code>)数据结构。</li></ul> <h3 id="chunk"><a href="#chunk" class="header-anchor">#</a> chunk</h3> <p>chunk 有两种形式：</p> <ul><li><p><code>initial(初始化)</code> 是入口起点的 main chunk。此 chunk 包含为入口起点指定的所有模块及其依赖项。</p></li> <li><p><code>non-initial</code> 是可以延迟加载的块。可能会出现在使用 <a href="https://webpack.docschina.org/guides/code-splitting/#dynamic-imports" target="_blank" rel="noopener noreferrer">动态导入(dynamic imports)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 或者 <a href="https://webpack.docschina.org/plugins/split-chunks-plugin/" target="_blank" rel="noopener noreferrer">SplitChunksPlugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 时。</p> <blockquote><p><code>non-initial</code> chunk 没有名称，因此会使用唯一 ID 来替代名称。 在使用动态导入时，我们可以通过使用 <a href="https://webpack.docschina.org/api/module-methods/#magic-comments" target="_blank" rel="noopener noreferrer">magic comment(魔术注释)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 来显式指定 chunk 名称：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span><span class="token punctuation">(</span>
  <span class="token comment">/* webpackChunkName: &quot;app&quot; */</span>
  <span class="token string">'./app.jsx'</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">App</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></blockquote></li></ul> <p>每个 chunk 都有对应的 <strong>asset(资源)</strong>。资源，是指输出文件（即打包结果）。</p> <h3 id="output"><a href="#output" class="header-anchor">#</a> output</h3> <p>输出文件的名称会受配置中的两个字段的影响：</p> <ul><li><a href="https://webpack.docschina.org/configuration/output/#outputfilename" target="_blank" rel="noopener noreferrer"><code>output.filename</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - 用于 <code>initial</code> chunk 文件</li> <li><a href="https://webpack.docschina.org/configuration/output/#outputchunkfilename" target="_blank" rel="noopener noreferrer"><code>output.chunkFilename</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - 用于 <code>non-initial</code> chunk 文件</li> <li>在某些情况下，使用 <code>initial</code> 和 <code>non-initial</code> 的 chunk 时，可以使用 <code>output.filename</code>。</li></ul> <p>这些字段中会有一些 <a href="https://webpack.docschina.org/configuration/output/#template-strings" target="_blank" rel="noopener noreferrer">占位符<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。常用的占位符如下：</p> <ul><li><code>[id]</code> - chunk id（例如 <code>[id].js</code> -&gt; <code>485.js</code>）</li> <li><code>[name]</code> - chunk name（例如 <code>[name].js</code> -&gt; <code>app.js</code>）。如果 chunk 没有名称，则会使用其 id 作为名称</li> <li><code>[contenthash]</code> - 输出文件内容的 md4-hash（例如 <code>[contenthash].js</code> -&gt; <code>4ea6ff1de66c537eb9b2.js</code>）</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fronted/projectBuild/webpack/background.html" class="prev">
        背景
      </a></span> <span class="next"><a href="/fronted/projectBuild/webpack/configuration.html">
        配置
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.74591230.js" defer></script><script src="/assets/js/2.662f3f24.js" defer></script><script src="/assets/js/63.a464e7db.js" defer></script>
  </body>
</html>
