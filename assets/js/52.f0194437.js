(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{430:function(t,a,_){"use strict";_.r(a);var s=_(51),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,_=t._self._c||a;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"背景"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),_("h2",{attrs:{id:"一、从浏览器中输入url发生了什么"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#一、从浏览器中输入url发生了什么"}},[t._v("#")]),t._v(" 一、从浏览器中输入URL发生了什么")]),t._v(" "),_("p",[t._v("从前端角度优化：发送Http请求、服务器处理请求返回Http报文、浏览器解析渲染界面。")]),t._v(" "),_("h3",{attrs:{id:"_1-1-dns解析"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-dns解析"}},[t._v("#")]),t._v(" 1.1 DNS解析")]),t._v(" "),_("h3",{attrs:{id:"_1-2-tcp连接"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-tcp连接"}},[t._v("#")]),t._v(" 1.2 TCP连接")]),t._v(" "),_("h3",{attrs:{id:"_1-3-发送http请求"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-发送http请求"}},[t._v("#")]),t._v(" 1.3 发送Http请求")]),t._v(" "),_("p",[t._v("发送请求前，会首先检查资源是否存在缓存")]),t._v(" "),_("ul",[_("li",[t._v("强缓存\n"),_("ul",[_("li",[t._v("Expires(http1.0引入)")]),t._v(" "),_("li",[t._v("Cache-Control(http2.0引入)")])])]),t._v(" "),_("li",[t._v("协商缓存\n"),_("ul",[_("li",[t._v("Last-Modified If-Modified-Since(http1.0引入)")]),t._v(" "),_("li",[t._v("Etag If-None-Match(http1.1引入)")])])])]),t._v(" "),_("h3",{attrs:{id:"_1-4-服务器处理请求返回http报文"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-服务器处理请求返回http报文"}},[t._v("#")]),t._v(" 1.4 服务器处理请求返回Http报文")]),t._v(" "),_("h3",{attrs:{id:"_1-5-浏览器解析渲染界面"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-浏览器解析渲染界面"}},[t._v("#")]),t._v(" 1.5 浏览器解析渲染界面")]),t._v(" "),_("h2",{attrs:{id:"二、优化方案"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#二、优化方案"}},[t._v("#")]),t._v(" 二、优化方案")]),t._v(" "),_("h3",{attrs:{id:"_2-1-webpack-与浏览器缓存的配合-hash"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-webpack-与浏览器缓存的配合-hash"}},[t._v("#")]),t._v(" 2.1 Webpack 与浏览器缓存的配合 - hash")]),t._v(" "),_("ul",[_("li",[t._v("webpack将生成js和css的时候根据本次构建的hash生成名称中带有hash的文件。")]),t._v(" "),_("li",[t._v("利用hash可以使用浏览器的强缓存（通过配置Cache-Control: max-age={很大的数}）来保证静态资源能够保存在浏览器中。")]),t._v(" "),_("li",[t._v("当下一次构建时又会生成新的hash，不会因为缓存导致web引用无法更新。")])]),t._v(" "),_("h3",{attrs:{id:"_2-2-利用cdn-content-delivery-network-内容分发网络-对静态资源进行加速"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-利用cdn-content-delivery-network-内容分发网络-对静态资源进行加速"}},[t._v("#")]),t._v(" 2.2 利用CDN（Content Delivery Network - 内容分发网络）对静态资源进行加速")]),t._v(" "),_("ul",[_("li",[t._v("找到CDN最近的节点")]),t._v(" "),_("li",[t._v("减少传播时延")])]),t._v(" "),_("h3",{attrs:{id:"_2-3-骨架屏-基于spa模式背景下出来的优化方案-loading图片等进行占位"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-骨架屏-基于spa模式背景下出来的优化方案-loading图片等进行占位"}},[t._v("#")]),t._v(" 2.3 骨架屏（基于Spa模式背景下出来的优化方案）/ Loading图片等进行占位")]),t._v(" "),_("ul",[_("li",[t._v("缺点是并没有解决根本问题，用户还是不能直接看到想看的内容")])]),t._v(" "),_("h3",{attrs:{id:"_2-4-ssr渲染"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-ssr渲染"}},[t._v("#")]),t._v(" 2.4 ssr渲染")]),t._v(" "),_("h3",{attrs:{id:"_2-5-服务器开启gzip"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-服务器开启gzip"}},[t._v("#")]),t._v(" 2.5 服务器开启Gzip")]),t._v(" "),_("ul",[_("li",[t._v("nginx 设置gzip： gzip_comp_level 属性值越大，压缩效果越好，取值1-9")]),t._v(" "),_("li",[t._v("其它代理服务器")])]),t._v(" "),_("h2",{attrs:{id:"三、spa使首屏加载变慢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#三、spa使首屏加载变慢"}},[t._v("#")]),t._v(" 三、Spa使首屏加载变慢")]),t._v(" "),_("h3",{attrs:{id:"_3-1-直接请求html文件过程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-直接请求html文件过程"}},[t._v("#")]),t._v(" 3.1 直接请求Html文件过程")]),t._v(" "),_("ul",[_("li",[t._v("浏览器请求到html文档并构建文档对象模型（DOM）")]),t._v(" "),_("li",[t._v("浏览器加载样式文件，构建层叠样式模型（CSSOM）")]),t._v(" "),_("li",[t._v("在DOM和CSSOM构建后生成渲染树")]),t._v(" "),_("li",[t._v("根据渲染树进行Layout过程")])]),t._v(" "),_("h3",{attrs:{id:"_3-2-spa模式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-spa模式"}},[t._v("#")]),t._v(" 3.2 Spa模式")]),t._v(" "),_("ul",[_("li",[t._v("同上")]),t._v(" "),_("li",[t._v("同上")]),t._v(" "),_("li",[t._v("同上")]),t._v(" "),_("li",[t._v("同上")]),t._v(" "),_("li",[t._v("浏览器并行下载script、link等资源（非常耗时）")]),t._v(" "),_("li",[t._v("浏览器通过V8引擎执行JS代码")]),t._v(" "),_("li",[t._v("浏览器构建新的DOM和CSSOM，并且修改render-tree进行回流")])]),t._v(" "),_("h2",{attrs:{id:"四、引用文档"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#四、引用文档"}},[t._v("#")]),t._v(" 四、引用文档")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("基于 VUE-SSR 的性能优化 - coderAfei")]),t._v(" "),_("p",[t._v("https://segmentfault.com/a/1190000022257834")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);