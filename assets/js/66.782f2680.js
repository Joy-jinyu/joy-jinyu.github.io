(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{444:function(e,s,t){"use strict";t.r(s);var a=t(51),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"指南"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#指南"}},[e._v("#")]),e._v(" 指南")]),e._v(" "),t("h2",{attrs:{id:"管理资源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#管理资源"}},[e._v("#")]),e._v(" 管理资源")]),e._v(" "),t("h3",{attrs:{id:"加载css"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加载css"}},[e._v("#")]),e._v(" 加载"),t("code",[e._v("CSS")])]),e._v(" "),t("h3",{attrs:{id:"加载images"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加载images"}},[e._v("#")]),e._v(" 加载Images")]),e._v(" "),t("h3",{attrs:{id:"加载fonts字体"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加载fonts字体"}},[e._v("#")]),e._v(" 加载fonts字体")]),e._v(" "),t("h3",{attrs:{id:"加载数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加载数据"}},[e._v("#")]),e._v(" 加载数据")]),e._v(" "),t("h3",{attrs:{id:"自定义json模块parser"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义json模块parser"}},[e._v("#")]),e._v(" 自定义"),t("code",[e._v("JSON")]),e._v("模块parser")]),e._v(" "),t("h3",{attrs:{id:"全局资源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局资源"}},[e._v("#")]),e._v(" 全局资源")]),e._v(" "),t("h3",{attrs:{id:"延伸阅读"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#延伸阅读"}},[e._v("#")]),e._v(" 延伸阅读")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://survivejs.com/webpack/loading/fonts/",target:"_blank",rel:"noopener noreferrer"}},[e._v("加载字体"),t("OutboundLink")],1),e._v(" on "),t("code",[e._v("SurviveJS")])])]),e._v(" "),t("h3",{attrs:{id:"code"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#code"}},[e._v("#")]),e._v(" Code")]),e._v(" "),t("p",[t("strong",[e._v("project")])]),e._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" webpack-demo\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" |- package.json\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" |- package-lock.json\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" |- webpack.config.js\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" |- /dist\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   |- bundle.js\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   |- index.html\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" |- /src\n")])]),t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   |- data.csv\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   |- data.json5\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   |- data.toml\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   |- data.xml\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   |- data.yaml\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   |- icon.png\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   |- my-font.woff\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   |- my-font.woff2\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   |- style.css\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   |- index.js\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" |- /node_modules\n")])])])])]),t("p",[t("strong",[e._v("webpack.config.js")])]),e._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("const path = require('path');\n")])]),t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("const toml = require('toml');\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("const yaml = require('yamljs');\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("const json5 = require('json5');\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("module.exports = {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  entry: './src/index.js',\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  output: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    filename: 'bundle.js',\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    path: path.resolve(__dirname, 'dist'),\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  },\n")])]),t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  module: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    rules: [\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      {\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        test: /\\.css$/i,\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        use: ['style-loader', 'css-loader'],\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      },\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      {\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        test: /\\.(png|svg|jpg|jpeg|gif)$/i,\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        type: 'asset/resource',\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      },\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      {\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        test: /\\.(woff|woff2|eot|ttf|otf)$/i,\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        type: 'asset/resource',\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      },\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      {\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        test: /\\.(csv|tsv)$/i,\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        use: ['csv-loader'],\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      },\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      {\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        test: /\\.xml$/i,\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        use: ['xml-loader'],\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      },\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      {\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        test: /\\.toml$/i,\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        type: 'json',\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        parser: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("          parse: toml.parse,\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        },\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      },\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      {\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        test: /\\.yaml$/i,\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        type: 'json',\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        parser: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("          parse: yaml.parse,\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        },\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      },\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      {\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        test: /\\.json5$/i,\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        type: 'json',\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        parser: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("          parse: json5.parse,\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("        },\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      },\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    ],\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  },\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("};\n")])])])])]),t("p",[t("strong",[e._v("src/index.js")])]),e._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("import _ from 'lodash';\n")])]),t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("import './style.css';\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("import Icon from './icon.png';\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("import Data from './data.xml';\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("import Notes from './data.csv';\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("import toml from './data.toml';\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("import yaml from './data.yaml';\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("import json from './data.json5';\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("console.log(toml.title); // output `TOML Example`\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("console.log(toml.owner.name); // output `Tom Preston-Werner`\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("console.log(yaml.title); // output `YAML Example`\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("console.log(yaml.owner.name); // output `Tom Preston-Werner`\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("console.log(json.title); //  `JSON5 Example`\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("console.log(json.owner.name); // output `Tom Preston-Werner`\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("function component() {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  const element = document.createElement('div');\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  // lodash，现在通过 script 标签导入\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  element.innerHTML = _.join(['Hello', 'webpack'], ' ');\n")])]),t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  element.classList.add('hello');\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  // Add the image to our existing div.\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  const myIcon = new Image();\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  myIcon.src = Icon;\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  element.appendChild(myIcon);\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  console.log(Data);\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  console.log(Notes);\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  return element;\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("}\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("document.body.appendChild(component());\n")])])])])]),t("p",[e._v("And remove those dependencies we added before:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" uninstall css-loader csv-loader json5 style-loader toml xml-loader yamljs\n")])])]),t("hr"),e._v(" "),t("h2",{attrs:{id:"管理输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#管理输出"}},[e._v("#")]),e._v(" 管理输出")]),e._v(" "),t("h3",{attrs:{id:"预先准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#预先准备"}},[e._v("#")]),e._v(" 预先准备")]),e._v(" "),t("h3",{attrs:{id:"设置htmlwebpackplugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置htmlwebpackplugin"}},[e._v("#")]),e._v(" 设置"),t("code",[e._v("HtmlWebpackPlugin")])]),e._v(" "),t("h3",{attrs:{id:"清理-dist文件夹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#清理-dist文件夹"}},[e._v("#")]),e._v(" 清理/dist文件夹")]),e._v(" "),t("h3",{attrs:{id:"manifest"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#manifest"}},[e._v("#")]),e._v(" manifest")]),e._v(" "),t("p",[e._v("你可能会很感兴趣，webpack 和 webpack 插件似乎“知道”应该生成哪些文件。答案是，webpack 通过 manifest，可以追踪所有模块到输出 bundle 之间的映射。如果你想要知道如何以其他方式来控制 webpack "),t("a",{attrs:{href:"https://webpack.docschina.org/configuration/output",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("输出")]),t("OutboundLink")],1),e._v("，了解 manifest 是个好的开始。")]),e._v(" "),t("p",[e._v("通过 "),t("a",{attrs:{href:"https://github.com/shellscape/webpack-manifest-plugin",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("WebpackManifestPlugin")]),t("OutboundLink")],1),e._v(" 插件，可以将 manifest 数据提取为一个 json 文件以供使用。")]),e._v(" "),t("p",[e._v("我们不会在此展示一个如何在项目中使用此插件的完整示例，你可以在 "),t("a",{attrs:{href:"https://webpack.docschina.org/concepts/manifest",target:"_blank",rel:"noopener noreferrer"}},[e._v("manifest"),t("OutboundLink")],1),e._v(" 概念页面深入阅读，以及在 "),t("a",{attrs:{href:"https://webpack.docschina.org/guides/caching",target:"_blank",rel:"noopener noreferrer"}},[e._v("缓存"),t("OutboundLink")],1),e._v(" 指南中，了解它与长效缓存有何关系。")]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"开发环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发环境"}},[e._v("#")]),e._v(" 开发环境")]),e._v(" "),t("h3",{attrs:{id:"使用source-map"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用source-map"}},[e._v("#")]),e._v(" 使用"),t("code",[e._v("source map")])]),e._v(" "),t("h3",{attrs:{id:"选择一个开发工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选择一个开发工具"}},[e._v("#")]),e._v(" 选择一个开发工具")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("webpack")]),e._v("自带的watch mode")]),e._v(" "),t("li",[e._v("使用"),t("code",[e._v("webpack-dev-server")]),e._v("插件 (基于"),t("code",[e._v("webpack-dev-middle")]),e._v(")")]),e._v(" "),t("li",[e._v("使用"),t("code",[e._v("webpack-dev-middle")]),e._v("插件")])]),e._v(" "),t("h3",{attrs:{id:"文本编辑器safe-write-安全写入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文本编辑器safe-write-安全写入"}},[e._v("#")]),e._v(" 文本编辑器safe write(安全写入)")]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"代码分离"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码分离"}},[e._v("#")]),e._v(" 代码分离")]),e._v(" "),t("h3",{attrs:{id:"入口起点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#入口起点"}},[e._v("#")]),e._v(" 入口起点")]),e._v(" "),t("ul",[t("li",[e._v("如果入口 chunk 之间包含一些重复的模块，那些重复模块都会被引入到各个 bundle 中。")]),e._v(" "),t("li",[e._v("这种方法不够灵活，并且不能动态地将核心应用程序逻辑中的代码拆分出来。")])]),e._v(" "),t("p",[t("strong",[e._v("project")])]),e._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[e._v("webpack-demo\n|- package.json\n|- package-lock.json\n|- webpack.config.js\n|- /dist\n|- /src\n"),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" |- index.js\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" |- another-module.js\n")])]),e._v("|- /node_modules\n")])])]),t("p",[t("strong",[e._v("another-module.js")])]),e._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" _ "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'lodash'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("_"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Another'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'module'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'loaded!'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("' '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),t("p",[t("strong",[e._v("webpack.config.js")])]),e._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("const path = require('path');\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("module.exports = {\n")])]),t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  entry: './src/index.js',\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  mode: 'development',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  entry: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    index: './src/index.js',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    another: './src/another-module.js',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  },\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  output: {\n")])]),t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    filename: 'main.js',\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    filename: '[name].bundle.js',\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    path: path.resolve(__dirname, 'dist'),\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  },\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("};\n")])])])])]),t("h3",{attrs:{id:"防止重复"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#防止重复"}},[e._v("#")]),e._v(" 防止重复")]),e._v(" "),t("h4",{attrs:{id:"入口依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#入口依赖"}},[e._v("#")]),e._v(" 入口依赖")]),e._v(" "),t("p",[e._v("如果我们要在一个 HTML 页面上使用多个入口时，还需设置 "),t("code",[e._v("optimization.runtimeChunk: 'single'")]),e._v("，否则还会遇到"),t("a",{attrs:{href:"https://bundlers.tooling.report/code-splitting/multi-entry/",target:"_blank",rel:"noopener noreferrer"}},[e._v("这里"),t("OutboundLink")],1),e._v("所述的麻烦。")]),e._v(" "),t("p",[t("strong",[e._v("webpack.config.js")])]),e._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("const path = require('path');\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("module.exports = {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  mode: 'development',\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  entry: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    index: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      import: './src/index.js',\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      dependOn: 'shared',\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    },\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    another: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      import: './src/another-module.js',\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      dependOn: 'shared',\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    },\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    shared: 'lodash',\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  },\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  output: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    filename: '[name].bundle.js',\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    path: path.resolve(__dirname, 'dist'),\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  },\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  optimization: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    runtimeChunk: 'single',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  },\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("};\n")])])])])]),t("h4",{attrs:{id:"splitchunksplugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#splitchunksplugin"}},[e._v("#")]),e._v(" "),t("code",[e._v("SplitChunksPlugin")])]),e._v(" "),t("p",[t("strong",[e._v("webpack.config.js")])]),e._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" const path = require('path');\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" module.exports = {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   mode: 'development',\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   entry: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     index: './src/index.js',\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     another: './src/another-module.js',\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   },\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   output: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     filename: '[name].bundle.js',\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     path: path.resolve(__dirname, 'dist'),\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   },\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   optimization: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     splitChunks: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("       chunks: 'all',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     },\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   },\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" };\n")])])])])]),t("h3",{attrs:{id:"动态导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#动态导入"}},[e._v("#")]),e._v(" 动态导入")]),e._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[e._v("function getComponent() {\n"),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("async function getComponent() {\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  const element = document.createElement('div');\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  const { default: _ } = await import('lodash');\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  return import('lodash')\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    .then(({ default: _ }) => {\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      const element = document.createElement('div');\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  element.innerHTML = _.join(['Hello', 'webpack'], ' ');\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      element.innerHTML = _.join(['Hello', 'webpack'], ' ');\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      return element;\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    })\n")]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    .catch((error) => 'An error occurred while loading the component');\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  return element;\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("}\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("getComponent().then((component) => {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  document.body.appendChild(component);\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("});\n")])])])])]),t("h3",{attrs:{id:"prefetch-preload-modules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prefetch-preload-modules"}},[e._v("#")]),e._v(" "),t("code",[e._v("prefetch")]),e._v("/"),t("code",[e._v("preload")]),e._v(" modules")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("prefetch")]),e._v("(预获取)：将来某些导航下可能需要的资源")]),e._v(" "),t("li",[t("strong",[e._v("preload")]),e._v("(预加载)：当前导航下可能需要资源")])]),e._v(" "),t("blockquote",[t("h6",{attrs:{id:"tip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tip"}},[e._v("#")]),e._v(" Tip")]),e._v(" "),t("p",[e._v("不正确地使用 "),t("code",[e._v("webpackPreload")]),e._v(" 会有损性能，请谨慎使用。")])]),e._v(" "),t("h3",{attrs:{id:"bundle分析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bundle分析"}},[e._v("#")]),e._v(" bundle分析")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/webpack/analyse",target:"_blank",rel:"noopener noreferrer"}},[e._v("官方分析工具"),t("OutboundLink")],1),e._v(" 是一个不错的开始。还有一些其他社区支持的可选项：")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://alexkuz.github.io/webpack-chart/",target:"_blank",rel:"noopener noreferrer"}},[e._v("webpack-chart"),t("OutboundLink")],1),e._v(": webpack stats 可交互饼图。")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://chrisbateman.github.io/webpack-visualizer/",target:"_blank",rel:"noopener noreferrer"}},[e._v("webpack-visualizer"),t("OutboundLink")],1),e._v(": 可视化并分析你的 bundle，检查哪些模块占用空间，哪些可能是重复使用的。")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/webpack-contrib/webpack-bundle-analyzer",target:"_blank",rel:"noopener noreferrer"}},[e._v("webpack-bundle-analyzer"),t("OutboundLink")],1),e._v("：一个 plugin 和 CLI 工具，它将 bundle 内容展示为一个便捷的、交互式、可缩放的树状图形式。")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.jakoblind.no/optimize",target:"_blank",rel:"noopener noreferrer"}},[e._v("webpack bundle optimize helper"),t("OutboundLink")],1),e._v("：这个工具会分析你的 bundle，并提供可操作的改进措施，以减少 bundle 的大小。")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/bundle-stats/bundle-stats",target:"_blank",rel:"noopener noreferrer"}},[e._v("bundle-stats"),t("OutboundLink")],1),e._v("：生成一个 bundle 报告（bundle 大小、资源、模块），并比较不同构建之间的结果。")])]),e._v(" "),t("h3",{attrs:{id:"延伸阅读-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#延伸阅读-2"}},[e._v("#")]),e._v(" 延伸阅读")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://medium.com/webpack/link-rel-prefetch-preload-in-webpack-51a52358f84c",target:"_blank",rel:"noopener noreferrer"}},[e._v("webpack 中的 "),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://medium.com/reloading/preload-prefetch-and-priorities-in-chrome-776165961bbf",target:"_blank",rel:"noopener noreferrer"}},[e._v("Chrome 中的预加载、预获取和优先级(Preload, Prefetch And Priorities)"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Preloading_content",target:"_blank",rel:"noopener noreferrer"}},[e._v("使用用  预加载内容"),t("OutboundLink")],1)])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"缓存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#缓存"}},[e._v("#")]),e._v(" 缓存")]),e._v(" "),t("h3",{attrs:{id:"输出文件的文件名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#输出文件的文件名"}},[e._v("#")]),e._v(" 输出文件的文件名")]),e._v(" "),t("ul",[t("li",[e._v("name")]),e._v(" "),t("li",[t("code",[e._v("contenthash")])])]),e._v(" "),t("h3",{attrs:{id:"提取引导模板"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提取引导模板"}},[e._v("#")]),e._v(" 提取引导模板")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("runtimeChunk")]),e._v(": 'single'")])]),e._v(" "),t("h3",{attrs:{id:"模块标识符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模块标识符"}},[e._v("#")]),e._v(" 模块标识符")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("moduleIds")]),e._v(": 'deterministic'")])]),e._v(" "),t("h3",{attrs:{id:"code-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#code-2"}},[e._v("#")]),e._v(" Code")]),e._v(" "),t("p",[t("strong",[e._v("webpack.config.js")])]),e._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" const path = require('path');\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" const HtmlWebpackPlugin = require('html-webpack-plugin');\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" module.exports = {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   entry: './src/index.js',\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   plugins: [\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     new HtmlWebpackPlugin({\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     title: 'Caching',\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     }),\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   ],\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   output: {\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     filename: '[name].[contenthash].js',\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     path: path.resolve(__dirname, 'dist'),\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     clean: true,\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   },\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   optimization: {\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     moduleIds: 'deterministic',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     runtimeChunk: 'single',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     splitChunks: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("       cacheGroups: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("         vendor: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("           test: /[\\\\/]node_modules[\\\\/]/,\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("           name: 'vendors',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("           chunks: 'all',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("         },\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("       },\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     },\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   },\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" };\n")])])])])]),t("h3",{attrs:{id:"延伸阅读-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#延伸阅读-3"}},[e._v("#")]),e._v(" 延伸阅读")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/webpack/webpack.js.org/issues/652",target:"_blank",rel:"noopener noreferrer"}},[e._v("Issue 652"),t("OutboundLink")],1)])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"创建library"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建library"}},[e._v("#")]),e._v(" 创建library")]),e._v(" "),t("h3",{attrs:{id:"创建一个library"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建一个library"}},[e._v("#")]),e._v(" 创建一个library")]),e._v(" "),t("h3",{attrs:{id:"webpack配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack配置"}},[e._v("#")]),e._v(" "),t("code",[e._v("webpack")]),e._v("配置")]),e._v(" "),t("h3",{attrs:{id:"expose-the-library"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#expose-the-library"}},[e._v("#")]),e._v(" Expose the Library")]),e._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("const path = require('path');\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("module.exports = {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  entry: './src/index.js',\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  output: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    path: path.resolve(__dirname, 'dist'),\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    filename: 'webpack-numbers.js',\n")])]),t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    library: 'webpackNumbers',\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    library: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      name: 'webpackNumbers',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("      type: 'umd',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("    },\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("  },\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("};\n")])])])])]),t("p",[e._v("现在 webpack 将打包一个库，其可以与 CommonJS、AMD 以及 script 标签使用。")]),e._v(" "),t("p",[e._v("Tip")]),e._v(" "),t("h3",{attrs:{id:"外部化lodash"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#外部化lodash"}},[e._v("#")]),e._v(" 外部化"),t("code",[e._v("lodash")])]),e._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" const path = require('path');\n")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" module.exports = {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   entry: './src/index.js',\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   output: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     path: path.resolve(__dirname, 'dist'),\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     filename: 'webpack-numbers.js',\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     library: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v('       name: "webpackNumbers",\n')]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v('       type: "umd"\n')]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     },\n")]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   },\n")])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   externals: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     lodash: {\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("       commonjs: 'lodash',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("       commonjs2: 'lodash',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("       amd: 'lodash',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("       root: '_',\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("     },\n")]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v("   },\n")])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[e._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(" };\n")])])])])]),t("h4",{attrs:{id:"外部化的限制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#外部化的限制"}},[e._v("#")]),e._v(" 外部化的限制")]),e._v(" "),t("h3",{attrs:{id:"最终步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#最终步骤"}},[e._v("#")]),e._v(" 最终步骤")]),e._v(" "),t("blockquote",[t("h6",{attrs:{id:"tip-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tip-2"}},[e._v("#")]),e._v(" Tip")]),e._v(" "),t("p",[e._v("为了暴露和 library 关联着的样式表，你应该使用 "),t("a",{attrs:{href:"https://webpack.docschina.org/plugins/mini-css-extract-plugin",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("MiniCssExtractPlugin")]),t("OutboundLink")],1),e._v("。然后，用户可以像使用其他样式表一样使用和加载这些样式表。")])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[e._v("#")]),e._v(" 环境变量")]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"构建性能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建性能"}},[e._v("#")]),e._v(" 构建性能")]),e._v(" "),t("h3",{attrs:{id:"通用环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通用环境"}},[e._v("#")]),e._v(" 通用环境")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("Webpack")]),e._v("更新到最新的版本")]),e._v(" "),t("li",[e._v("Loader 使用"),t("code",[e._v("include")]),e._v(" 字段去覆盖需要编译的目录")]),e._v(" "),t("li",[e._v("尽量少地使用 loader/"),t("code",[e._v("plugin")]),e._v("(每个都有其启动时间)")]),e._v(" "),t("li",[e._v("解析\n"),t("ul",[t("li",[e._v("减少 "),t("code",[e._v("resolve.modules")]),e._v(", "),t("code",[e._v("resolve.extensions")]),e._v(", "),t("code",[e._v("resolve.mainFiles")]),e._v(", "),t("code",[e._v("resolve.descriptionFiles")]),e._v(" 中条目数量，因为他们会增加文件系统调用的次数。")]),e._v(" "),t("li",[e._v("如果你不使用 "),t("code",[e._v("symlinks")]),e._v("（例如 "),t("code",[e._v("npm link")]),e._v(" 或者 "),t("code",[e._v("yarn link")]),e._v("），可以设置 "),t("code",[e._v("resolve.symlinks: false")]),e._v("。")]),e._v(" "),t("li",[e._v("如果你使用自定义 resolve "),t("code",[e._v("plugin")]),e._v(" 规则，并且没有指定 context 上下文，可以设置 "),t("code",[e._v("resolve.cacheWithContext: false")]),e._v("。")])])]),e._v(" "),t("li",[e._v("使用 "),t("code",[e._v("DllPlugin")]),e._v(" 为更改不频繁的代码生成单独的编译结果")]),e._v(" "),t("li",[e._v("减少编译结果的整体大小，以提高构建性能\n"),t("ul",[t("li",[e._v("使用数量更少/体积更小的 library。")]),e._v(" "),t("li",[e._v("在多页面应用程序中使用 "),t("code",[e._v("SplitChunksPlugin")]),e._v("。")]),e._v(" "),t("li",[e._v("在多页面应用程序中使用 "),t("code",[e._v("SplitChunksPlugin")]),e._v("，并开启 "),t("code",[e._v("async")]),e._v(" 模式。")]),e._v(" "),t("li",[e._v("移除未引用代码。")]),e._v(" "),t("li",[e._v("只编译你当前正在开发的那些代码。")])])]),e._v(" "),t("li",[e._v("将非常消耗资源的 loader 分流给一个 worker pool("),t("code",[e._v("thread-loader")]),e._v(")")]),e._v(" "),t("li",[e._v("持久化缓存")]),e._v(" "),t("li",[e._v("对自定义 "),t("code",[e._v("plugin")]),e._v("/loader进行概要分析")]),e._v(" "),t("li",[e._v("将 "),t("code",[e._v("ProgressPlugin")]),e._v(" 从 "),t("code",[e._v("webpack")]),e._v(" 中删除，可以缩短构建时间")])]),e._v(" "),t("h3",{attrs:{id:"开发环境-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发环境-2"}},[e._v("#")]),e._v(" 开发环境")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("使用 "),t("code",[e._v("webpack")]),e._v(" 的 watch mode(监听模式)。而不使用其他工具来 watch 文件和调用 "),t("code",[e._v("webpack")])])]),e._v(" "),t("li",[t("p",[e._v("在内存中编译")]),e._v(" "),t("p",[e._v("下面几个工具通过在内存中（而不是写入磁盘）编译和 serve 资源来提高性能：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("webpack-dev-server")])]),e._v(" "),t("li",[t("code",[e._v("webpack-hot-middleware")])]),e._v(" "),t("li",[t("code",[e._v("webpack-dev-middleware")])])])]),e._v(" "),t("li",[t("p",[e._v("避免获取 "),t("code",[e._v("stats")]),e._v(" 对象的部分内容")]),e._v(" "),t("p",[e._v("webpack 4 默认使用 "),t("code",[e._v("stats.toJson()")]),e._v(" 输出大量数据")])]),e._v(" "),t("li",[t("p",[e._v("不同的 "),t("code",[e._v("devtool")]),e._v(" 设置，会导致性能差异")]),e._v(" "),t("ul",[t("li",[t("code",[e._v('"eval"')]),e._v(" 具有最好的性能，但并不能帮助你转译代码。")]),e._v(" "),t("li",[e._v("如果你能接受稍差一些的 map 质量，可以使用 "),t("code",[e._v("cheap-source-map")]),e._v(" 变体配置来提高性能")]),e._v(" "),t("li",[e._v("使用 "),t("code",[e._v("eval-source-map")]),e._v(" 变体配置进行增量编译。")])])]),e._v(" "),t("li",[t("p",[e._v("避免在生产环境下才会用到的工具")]),e._v(" "),t("p",[e._v("通常在开发环境下，应该排除以下这些工具：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("TerserPlugin")])]),e._v(" "),t("li",[t("code",[e._v("[fullhash]")]),e._v("/"),t("code",[e._v("[chunkhash]")]),e._v("/"),t("code",[e._v("[contenthash]")])]),e._v(" "),t("li",[t("code",[e._v("AggressiveSplittingPlugin")])]),e._v(" "),t("li",[t("code",[e._v("AggressiveMergingPlugin")])]),e._v(" "),t("li",[t("code",[e._v("ModuleConcatenationPlugin")])])])]),e._v(" "),t("li",[t("p",[e._v("最小化 entry chunk")]),e._v(" "),t("p",[e._v("确保在生成 entry chunk 时，尽量减少其体积以提高性能。下面的配置为运行时代码创建了一个额外的 chunk，所以它的生成代价较低")]),e._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[e._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n  optimization"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    runtimeChunk"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])])]),e._v(" "),t("li",[t("p",[e._v("避免额外的优化步骤")]),e._v(" "),t("p",[e._v("这些优化适用于小型代码库，但是在大型代码库中却非常耗费性能：")]),e._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[e._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n  optimization"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    removeAvailableModules"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    removeEmptyChunks"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    splitChunks"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])])]),e._v(" "),t("li",[t("p",[t("code",[e._v("options.output.pathinfo")]),e._v(" 设置中关闭，使输出结果不携带路径信息")])]),e._v(" "),t("li",[t("p",[t("code",[e._v("Node.js v8.9.10 - v9.11.1")]),e._v(" 中的 "),t("code",[e._v("ES2015")]),e._v(" "),t("code",[e._v("Map")]),e._v(" 和 "),t("code",[e._v("Set")]),e._v(" 实现，存在 "),t("a",{attrs:{href:"https://github.com/nodejs/node/issues/19769",target:"_blank",rel:"noopener noreferrer"}},[e._v("性能回退"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[e._v("loader 传入 "),t("code",[e._v("transpileOnly")]),e._v(" 选项，以缩短使用 "),t("code",[e._v("ts-loader")]),e._v(" 时的构建时间")])])]),e._v(" "),t("h3",{attrs:{id:"生产环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生产环境"}},[e._v("#")]),e._v(" 生产环境")]),e._v(" "),t("ul",[t("li",[e._v("禁用source Map")])]),e._v(" "),t("h3",{attrs:{id:"工具相关问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工具相关问题"}},[e._v("#")]),e._v(" 工具相关问题")]),e._v(" "),t("h5",{attrs:{id:"babel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#babel"}},[e._v("#")]),e._v(" Babel")]),e._v(" "),t("ul",[t("li",[e._v("最小化项目中的 preset/"),t("code",[e._v("plugin")]),e._v(" 数量。")])]),e._v(" "),t("h5",{attrs:{id:"typescript"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#typescript"}},[e._v("#")]),e._v(" "),t("code",[e._v("TypeScript")])]),e._v(" "),t("ul",[t("li",[e._v("在单独的进程中使用 "),t("code",[e._v("fork-ts-checker-webpack-plugin")]),e._v(" 进行类型检查。")]),e._v(" "),t("li",[e._v("配置 loader 跳过类型检查。")]),e._v(" "),t("li",[e._v("使用 "),t("code",[e._v("ts-loader")]),e._v(" 时，设置 "),t("code",[e._v("happyPackMode: true")]),e._v(" / "),t("code",[e._v("transpileOnly: true")]),e._v("。")])]),e._v(" "),t("h5",{attrs:{id:"sass"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sass"}},[e._v("#")]),e._v(" Sass")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("node-sass")]),e._v(" 中有个来自 "),t("code",[e._v("Node.js")]),e._v(" 线程池的阻塞线程的 bug。 当使用 "),t("code",[e._v("thread-loader")]),e._v(" 时，需要设置 "),t("code",[e._v("workerParallelJobs: 2")])])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"内容安全策略"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内容安全策略"}},[e._v("#")]),e._v(" 内容安全策略")]),e._v(" "),t("p",[t("code",[e._v("Webpack")]),e._v(" 能够为其加载的所有脚本添加 "),t("code",[e._v("nonce")])]),e._v(" "),t("h3",{attrs:{id:"启用csp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启用csp"}},[e._v("#")]),e._v(" 启用"),t("code",[e._v("CSP")])]),e._v(" "),t("h3",{attrs:{id:"trusted-types"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#trusted-types"}},[e._v("#")]),e._v(" Trusted Types")]),e._v(" "),t("h3",{attrs:{id:"延伸阅读-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#延伸阅读-4"}},[e._v("#")]),e._v(" 延伸阅读")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://stackoverflow.com/questions/42922784/what-s-the-purpose-of-the-html-nonce-attribute-for-script-and-style-elements",target:"_blank",rel:"noopener noreferrer"}},[e._v("解释 nonce 设计目的"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://ai.google/research/pubs/pub45542",target:"_blank",rel:"noopener noreferrer"}},[e._v("白名单的不安全性和内容安全政策的未来"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.troyhunt.com/locking-down-your-website-scripts-with-csp-hashes-nonces-and-report-uri/",target:"_blank",rel:"noopener noreferrer"}},[e._v("使用 CSP, Hash, Nonce 和 Report URI 锁定你的网站脚本"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP",target:"_blank",rel:"noopener noreferrer"}},[e._v("MDN 的 CSP 文档"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://web.dev/trusted-types",target:"_blank",rel:"noopener noreferrer"}},[e._v("Trusted Types"),t("OutboundLink")],1)])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"开发-vagrant"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发-vagrant"}},[e._v("#")]),e._v(" 开发 - Vagrant")]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"依赖管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依赖管理"}},[e._v("#")]),e._v(" 依赖管理")]),e._v(" "),t("h3",{attrs:{id:"带表达式的require语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#带表达式的require语句"}},[e._v("#")]),e._v(" 带表达式的require语句")]),e._v(" "),t("h3",{attrs:{id:"require-context"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#require-context"}},[e._v("#")]),e._v(" "),t("code",[e._v("require.context")])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"模块热替换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模块热替换"}},[e._v("#")]),e._v(" 模块热替换")]),e._v(" "),t("p",[e._v("启动"),t("code",[e._v("HMR")])]),e._v(" "),t("p",[e._v("通过"),t("code",[e._v("Node.js Api")])]),e._v(" "),t("p",[t("code",[e._v("HMR")]),e._v("加载样式")]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"tree-shaking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tree-shaking"}},[e._v("#")]),e._v(" Tree Shaking")]),e._v(" "),t("p",[e._v("它依赖于 ES2015 模块语法的 "),t("a",{attrs:{href:"http://exploringjs.com/es6/ch_modules.html#static-module-structure",target:"_blank",rel:"noopener noreferrer"}},[e._v("静态结构"),t("OutboundLink")],1),e._v(" 特性，例如 "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("import")]),t("OutboundLink")],1),e._v(" 和 "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("export")]),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("通过 "),t("code",[e._v("package.json")]),e._v(" 的 "),t("code",[e._v('"sideEffects"')]),e._v(' 属性作为标记项目中的哪些文件是 "pure(纯正 ES2015 模块)"')]),e._v(" "),t("h3",{attrs:{id:"将文件标记为side-effect-free"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将文件标记为side-effect-free"}},[e._v("#")]),e._v(" 将文件标记为"),t("code",[e._v("Side-effect-free")])]),e._v(" "),t("h3",{attrs:{id:"解释tree-shaking-和-sideeffects"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解释tree-shaking-和-sideeffects"}},[e._v("#")]),e._v(" 解释"),t("code",[e._v("tree shaking")]),e._v(" 和 "),t("code",[e._v("sideEffects")])]),e._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"https://webpack.docschina.org/configuration/optimization/#optimizationsideeffects",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("sideEffects")]),t("OutboundLink")],1),e._v(" 和 "),t("a",{attrs:{href:"https://webpack.docschina.org/configuration/optimization/#optimizationusedexports",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("usedExports")]),t("OutboundLink")],1),e._v("（更多被认为是 tree shaking）是两种不同的优化方式。")])]),e._v(" "),t("li",[t("p",[t("strong",[t("code",[e._v("sideEffects")]),e._v(" 更为有效")]),e._v(" 是因为它允许跳过整个模块/文件和整个文件子树。")])]),e._v(" "),t("li",[t("p",[t("code",[e._v("usedExports")]),e._v(" 依赖于 "),t("a",{attrs:{href:"https://github.com/terser-js/terser",target:"_blank",rel:"noopener noreferrer"}},[e._v("terser"),t("OutboundLink")],1),e._v(" 去检测语句中的副作用。")])])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"生产环境-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生产环境-2"}},[e._v("#")]),e._v(" 生产环境")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/production/#setup",target:"_blank",rel:"noopener noreferrer"}},[e._v("配置"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/production/#npm-scripts",target:"_blank",rel:"noopener noreferrer"}},[e._v("NPM Scripts"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/production/#specify-the-mode",target:"_blank",rel:"noopener noreferrer"}},[e._v("指定 mode"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/production/#minification",target:"_blank",rel:"noopener noreferrer"}},[e._v("压缩(Minification)"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/production/#source-mapping",target:"_blank",rel:"noopener noreferrer"}},[e._v("源码映射(Source Mapping)"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/production/#minimize-css",target:"_blank",rel:"noopener noreferrer"}},[e._v("压缩 CSS"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/production/#cli-alternatives",target:"_blank",rel:"noopener noreferrer"}},[e._v("CLI 替代选项"),t("OutboundLink")],1)])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"懒加载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#懒加载"}},[e._v("#")]),e._v(" 懒加载")]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"ecmascript模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ecmascript模块"}},[e._v("#")]),e._v(" "),t("code",[e._v("ECMAScript")]),e._v("模块")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/ecma-script-modules/#exporting",target:"_blank",rel:"noopener noreferrer"}},[e._v("导出"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/ecma-script-modules/#importing",target:"_blank",rel:"noopener noreferrer"}},[e._v("导入"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/ecma-script-modules/#flagging-modules-as-esm",target:"_blank",rel:"noopener noreferrer"}},[e._v("将模块标记为 ESM"),t("OutboundLink")],1)])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"shimming预置依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shimming预置依赖"}},[e._v("#")]),e._v(" Shimming预置依赖")]),e._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/shimming/#shimming-globals",target:"_blank",rel:"noopener noreferrer"}},[e._v("Shimming 预置全局变量"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("code",[e._v("ProvidePlugin")])])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/shimming/#granular-shimming",target:"_blank",rel:"noopener noreferrer"}},[e._v("细粒度 Shimming"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/shimming/#global-exports",target:"_blank",rel:"noopener noreferrer"}},[e._v("全局 Exports"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/shimming/#loading-polyfills",target:"_blank",rel:"noopener noreferrer"}},[e._v("加载 Polyfills"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/shimming/#further-optimizations",target:"_blank",rel:"noopener noreferrer"}},[e._v("进一步优化"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/shimming/#node-built-ins",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node 内置"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/shimming/#other-utilities",target:"_blank",rel:"noopener noreferrer"}},[e._v("其他工具"),t("OutboundLink")],1)])])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"typescript-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#typescript-2"}},[e._v("#")]),e._v(" "),t("a",{attrs:{href:"https://webpack.docschina.org/guides/typescript/",target:"_blank",rel:"noopener noreferrer"}},[e._v("TypeScript"),t("OutboundLink")],1)]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/typescript/#basic-setup",target:"_blank",rel:"noopener noreferrer"}},[e._v("基础配置"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/typescript/#loader",target:"_blank",rel:"noopener noreferrer"}},[e._v("Loader"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/typescript/#source-maps",target:"_blank",rel:"noopener noreferrer"}},[e._v("Source Maps"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/typescript/#client-types",target:"_blank",rel:"noopener noreferrer"}},[e._v("Client types"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/typescript/#using-third-party-libraries",target:"_blank",rel:"noopener noreferrer"}},[e._v("使用第三方类库"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/typescript/#importing-other-assets",target:"_blank",rel:"noopener noreferrer"}},[e._v("导入其他资源"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/typescript/#build-performance",target:"_blank",rel:"noopener noreferrer"}},[e._v("构建性能"),t("OutboundLink")],1)])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"web-workers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#web-workers"}},[e._v("#")]),e._v(" "),t("a",{attrs:{href:"https://webpack.docschina.org/guides/web-workers/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Web Workers"),t("OutboundLink")],1)]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/web-workers/#syntax",target:"_blank",rel:"noopener noreferrer"}},[e._v("语法"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/web-workers/#example",target:"_blank",rel:"noopener noreferrer"}},[e._v("示例"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/web-workers/#nodejs",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js"),t("OutboundLink")],1)])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"渐进式网络应用程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#渐进式网络应用程序"}},[e._v("#")]),e._v(" "),t("a",{attrs:{href:"https://webpack.docschina.org/guides/progressive-web-application/",target:"_blank",rel:"noopener noreferrer"}},[e._v("渐进式网络应用程序"),t("OutboundLink")],1)]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/progressive-web-application/#we-dont-work-offline-now",target:"_blank",rel:"noopener noreferrer"}},[e._v("现在，我们并没有运行在离线环境下"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/progressive-web-application/#adding-workbox",target:"_blank",rel:"noopener noreferrer"}},[e._v("添加 Workbox"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/progressive-web-application/#registering-our-service-worker",target:"_blank",rel:"noopener noreferrer"}},[e._v("注册 Service Worker"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/progressive-web-application/#conclusion",target:"_blank",rel:"noopener noreferrer"}},[e._v("结论"),t("OutboundLink")],1)])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"publicpath"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#publicpath"}},[e._v("#")]),e._v(" "),t("a",{attrs:{href:"https://webpack.docschina.org/configuration/output/#outputpublicpath",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("publicPath")]),t("OutboundLink")],1)]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"集成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#集成"}},[e._v("#")]),e._v(" 集成")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/integrations/#npm-scripts",target:"_blank",rel:"noopener noreferrer"}},[e._v("NPM Scripts"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/integrations/#grunt",target:"_blank",rel:"noopener noreferrer"}},[e._v("Grunt"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/integrations/#gulp",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gulp"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/integrations/#mocha",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mocha"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/integrations/#karma",target:"_blank",rel:"noopener noreferrer"}},[e._v("Karma"),t("OutboundLink")],1)])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"资源模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#资源模块"}},[e._v("#")]),e._v(" 资源模块")]),e._v(" "),t("ul",[t("li",[e._v("Resource 资源\n"),t("ul",[t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/asset-modules/#custom-output-filename",target:"_blank",rel:"noopener noreferrer"}},[e._v("自定义输出文件名"),t("OutboundLink")],1)])])]),e._v(" "),t("li",[e._v("inline 资源(inlining asset)\n"),t("ul",[t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/asset-modules/#custom-data-uri-generator",target:"_blank",rel:"noopener noreferrer"}},[e._v("自定义 data URI 生成器"),t("OutboundLink")],1)])])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/asset-modules/#source-assets",target:"_blank",rel:"noopener noreferrer"}},[e._v("source 资源(source asset)"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/asset-modules/#url-%E8%B5%84%E6%BA%90",target:"_blank",rel:"noopener noreferrer"}},[e._v("URL 资源"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/asset-modules/#general-asset-type",target:"_blank",rel:"noopener noreferrer"}},[e._v("通用资源类型"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/guides/asset-modules/#replacing-inline-loader-syntax",target:"_blank",rel:"noopener noreferrer"}},[e._v("变更内联 loader 的语法"),t("OutboundLink")],1)])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"entry高级用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#entry高级用法"}},[e._v("#")]),e._v(" entry高级用法")]),e._v(" "),t("ul",[t("li",[e._v("每个入口使用多种文件类型")])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"package-exports"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#package-exports"}},[e._v("#")]),e._v(" package exports")]),e._v(" "),t("hr")])}),[],!1,null,null,null);s.default=n.exports}}]);